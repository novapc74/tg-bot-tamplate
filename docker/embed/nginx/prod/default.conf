server {
    listen 80;
    server_name novapc74.twc1.net www.novapc74.twc1.net;
    root /var/www/html/public;
    index index.php index.html;

    client_max_body_size 100M;

        add_header X-Frame-Options "SAMEORIGIN";

        # Включение Gzip-сжатия
        gzip on;
        gzip_vary on;  # Добавляет заголовок Vary: Accept-Encoding для кэширования
        gzip_min_length 1024;  # Сжимать только файлы больше 1KB
        gzip_proxied any;  # Сжимать для проксированных запросов
        gzip_comp_level 6;  # Уровень сжатия (1-9, 6 — баланс скорости/размера)
        gzip_types
            text/plain
            text/css
            text/xml
            text/javascript
            application/javascript
            application/xml+rss
            application/json
            image/svg+xml;  # Добавьте, если нужны SVG

        location / {
            try_files $uri $uri/ /index.php?$args;
        }

        location ~ \.php$ {
            fastcgi_split_path_info ^(.+\.php)(/.+)$;
            fastcgi_pass php-fpm:9000;
            fastcgi_index index.php;
            include fastcgi_params;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
            fastcgi_param PATH_INFO $fastcgi_path_info;
            fastcgi_param PHP_VALUE "upload_max_filesize=5M \n post_max_size=5M";
        }

    # Перенаправление на HTTPS
#    return 301 https://$server_name$request_uri;
}

